"use strict";(self.webpackChunkweb_doc=self.webpackChunkweb_doc||[]).push([[754],{4385:(e,n,s)=>{s.r(n),s.d(n,{data:()=>a});const a={key:"v-d511e96a",path:"/frame/vue/vue3/vue-router.html",title:"vue-router",lang:"en-US",frontmatter:{categories:["frame","vue","vue3"]},excerpt:"",headers:[{level:2,title:"useRoute",slug:"useroute",children:[{level:3,title:"作用域问题",slug:"作用域问题",children:[]}]}]}},3805:(e,n,s)=>{s.r(n),s.d(n,{default:()=>u});const a=(0,s(6252).uE)('<h1 id="vue-router" tabindex="-1"><a class="header-anchor" href="#vue-router" aria-hidden="true">#</a> vue-router</h1><h2 id="useroute" tabindex="-1"><a class="header-anchor" href="#useroute" aria-hidden="true">#</a> useRoute</h2><ul><li>只能在路由组件中使用</li><li>在普通 js 文件中引入无法获取 route</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>import { useRoute } from &quot;vue-router&quot;;\nconst route = useRoute();\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="作用域问题" tabindex="-1"><a class="header-anchor" href="#作用域问题" aria-hidden="true">#</a> 作用域问题</h3><ul><li>在 setup 中调用 go 没问题</li><li>点击时 route 和 router 就是 undefined</li><li>所以无法在 js 中获取到 route/router，只能在组件到 setup 中可以访问到</li></ul><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>&lt;template&gt;\n  &lt;button @click=&quot;go&quot;&gt;点击跳转&lt;/button&gt;\n&lt;/template&gt;\n&lt;script lang=&quot;ts&quot;&gt;\nimport { defineComponent } from &quot;vue&quot;;\nimport { useRoute, useRouter } from &quot;vue-router&quot;;\n\nexport default defineComponent({\n  name: &quot;&quot;,\n  setup() {\n    go();\n    function go() {\n      const route = useRoute();\n      const router = useRouter();\n      console.log(route, router);\n    }\n    return {\n      go,\n    };\n  },\n});\n&lt;/script&gt;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ul><li>在 setup 中声明 route 和 router 就没问题</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>setup(){\n  const route = useRoute();\n  const router = useRouter();\n  go()\n  function go(){\n    console.log(route, router);\n  }\n  return {\n    go,\n  }\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>',9),r={},u=(0,s(3744).Z)(r,[["render",function(e,n){return a}]])},3744:(e,n)=>{n.Z=(e,n)=>{const s=e.__vccOpts||e;for(const[e,a]of n)s[e]=a;return s}}}]);