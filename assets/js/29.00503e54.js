(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{415:function(e,t,a){"use strict";a.r(t);var s=a(54),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"m1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#m1"}},[e._v("#")]),e._v(" m1")]),e._v(" "),a("h2",{attrs:{id:"m1-上安装包问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#m1-上安装包问题"}},[e._v("#")]),e._v(" m1 上安装包问题")]),e._v(" "),a("ol",[a("li",[e._v("安装老版本 node")])]),e._v(" "),a("ul",[a("li",[e._v("选择 x86 环境")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("arch -x86_64 zsh\narch -x86_64 $SHELL\n")])])]),a("h2",{attrs:{id:"安装-gitbook-问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-gitbook-问题"}},[e._v("#")]),e._v(" 安装 gitbook 问题")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("node 版本问题")])]),e._v(" "),a("li",[a("p",[e._v("m1 环境问题")])])]),e._v(" "),a("ul",[a("li",[e._v("报错")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("xcode-select: error: tool 'xcodebuild' requires Xcode, but active developer directory '/Library/Developer/CommandLineTools' is a command line tools instance\n")])])]),a("ul",[a("li",[e._v("解决方法\n"),a("a",{attrs:{href:"https://github.com/nodejs/node-gyp/issues/569",target:"_blank",rel:"noopener noreferrer"}},[e._v("node-gyp issues/569"),a("OutboundLink")],1)])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("xcode-select --install\nsudo xcode-select --switch /Library/Developer/CommandLineTools\n")])])]),a("p",[e._v("即使这样依然还是会报上面的错误，从下面的错误看出可能是 node-gyp 的问题，在"),a("a",{attrs:{href:"https://github.com/nodejs/node-gyp/blob/master/macOS_Catalina.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("node-gyp macOS_Catalina.md"),a("OutboundLink")],1),e._v("找到解决方法")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("curl -sL https://github.com/nodejs/node-gyp/raw/master/macOS_Catalina_acid_test.sh | bash\n")])])]),a("p",[e._v("然后终于能正常工作了，因为一开始 nodev17 也报错 xcode-select，我尝试使用 nodev17 去安装 gitbook，发现依然不行，"),a("code",[e._v("gitbook init")]),e._v("之后只有 README.md 文件，没有 SUMMARY.md 文件。")]),e._v(" "),a("p",[e._v("不得不说 M1 虽然很好，但是环境问题真的很烦人，为了装个 gitbook 花了我差不多两天的时间，原本我在 node 官网下载的 v17 的 node，安装 gitbook 报错 cb.apply is not a function，这个问题基本属于网上搜到大家统一的问题，解决方案就是安装老版本的 node，因此我去安装 nvm，但是网上搜的一句话命令有装不上，网络问题，最后迫不得已用 brew（因为大家都说不推荐，所以一开始没用）。接着使用 nvm 安装老版本 node 的时候又有 arm 架构问题，得使用"),a("code",[e._v("arch -x86_64 zsh")]),e._v("切换到 x86 才能装，最后就是装了 nodev10 发现 gitbook 依然跑不起来，卡在 3.2.3 那半天，最后报个错，真的是吐血了。")])])}),[],!1,null,null,null);t.default=o.exports}}]);